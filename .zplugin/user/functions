
# Load zsh-completion-generator when needed and unload when done
generatecomp(){
    zplugin ice from"gh" silent pick"zsh-completion-generator.plugin.zsh" blockf;
    zplugin light RobSis/zsh-completion-generator && gencomp $1;
    zplugin creinstall -q RobSis/zsh-completion-generator;
    zplugin unload -q RobSis/zsh-completion-generator;
}

auto-ls-modecheck(){
    if tlp-stat -s | grep -q 'Mode           = battery'; then
        varcache=($AUTO_LS_COMMANDS)
        AUTO_LS_COMMANDS=($AUTO_LS_COMMANDSBAT)
        auto-ls
        AUTO_LS_COMMANDS=($varcache)
        break
    fi
}

auto-ls-colorls(){
    if [[ $(git rev-parse --is-inside-work-tree 2> /dev/null) == true ]]; then
    colorlsprefix+=(${colorlsgitprefix[@]})
    fi
    colorls ${colorlsprefix[@]}
}

# Aesthetic function for Dolphin, clear -x if cd while in Dolphin
if [[ $(xdotool getwindowfocus getwindowname) = *Dolphin* ]]; then
    function cd () { builtin cd "$@" && clear -x; }
fi
